<%#
name: Puppet Run Once - Ansible Default
snippet: false
model: JobTemplate
job_category: Ansible Puppet
description_format: Run Puppet once with "%{puppet_options}"
template_inputs:
- name: puppet_options
  required: false
  input_type: user
  description: Additional options to pass to Puppet
  advanced: false
provider_type: Ansible
kind: job_template
%>

---
- hosts: all
  tasks:
    - command: |
        puppet agent --onetime --no-usecacheonfailure --no-daemonize <%= input("puppet_options") %>