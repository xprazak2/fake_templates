<%#
name: pxegrub_chainload
snippet: true
model: ProvisioningTemplate
organizations:
- Default Organization
- Fritz1Org
- Fritz2Org
- Fritz3Org
- NewOrg
- OrgB
- OrgC
- OrgF
- OrgG
- this is very very very very very very very very very very very very very very very
  very very very long name
- Unassigned Organization
- WithOrgAdmin
locations:
- Fritz1Loc
- Fritz2Loc
- LocA
- NA/US/AWS
- WithHans
- WithHansAgain
-%>
<%
  # paths variable must be passed into the snippet, otherwise no EFI items are rendered
  if !@paths.nil? && @paths.size > 1
-%>
fallback=<%= (1..@paths.size).to_a.join(' ') %>
  <% @paths.each do |path| %>
title Chainload Grub from /EFI/<%= path %> or try next
  rootnoverify (hd0,0)
  chainloader /EFI/<%= path %>/grubx64.efi
  <% end -%>
<% else -%>
title Update your PXEGrub local template to get EFI options
  root (hd0,0)
  chainloader +1
<% end -%>

title Chainload into bootloader on first disk
  root (hd0,0)
  chainloader +1
